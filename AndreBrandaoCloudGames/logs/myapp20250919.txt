2025-09-19 09:28:43.718 -03:00 [INF] User profile is available. Using 'C:\Users\andre.brandao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-19 09:28:44.140 -03:00 [INF] Now listening on: https://localhost:7167
2025-09-19 09:28:44.153 -03:00 [INF] Now listening on: http://localhost:5134
2025-09-19 09:28:44.247 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-19 09:28:44.252 -03:00 [INF] Hosting environment: Development
2025-09-19 09:28:44.261 -03:00 [INF] Content root path: C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames
2025-09-19 09:28:44.809 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/swagger/index.html - null null
2025-09-19 09:28:45.125 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/swagger/index.html - 200 null text/html;charset=utf-8 316.2709ms
2025-09-19 09:28:45.212 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/_framework/aspnetcore-browser-refresh.js - null null
2025-09-19 09:28:45.212 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/_vs/browserLink - null null
2025-09-19 09:28:45.233 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/_framework/aspnetcore-browser-refresh.js - 200 16535 application/javascript; charset=utf-8 20.909ms
2025-09-19 09:28:45.279 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/_vs/browserLink - 200 null text/javascript; charset=UTF-8 66.6708ms
2025-09-19 09:28:45.370 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/swagger/v1/swagger.json - null null
2025-09-19 09:28:45.437 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 66.8367ms
2025-09-19 09:29:08.639 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7167/Usuario/login - application/json 53
2025-09-19 09:29:08.737 -03:00 [INF] Executing endpoint 'AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login (AndreBrandaoCloudGamesApi)'
2025-09-19 09:29:08.799 -03:00 [INF] Route matched with {action = "Login", controller = "Usuario"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(AndreBrandaoCloudGamesApi.Data.Dtos.UsuarioDto.LoginUsuarioDto) on controller AndreBrandaoCloudGamesApi.Controllers.UsuarioController (AndreBrandaoCloudGamesApi).
2025-09-19 09:29:13.081 -03:00 [INF] Executed DbCommand (111ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [u].[CreatedDate], [u].[Nome], [u].[Role]
FROM [AspNetUsers] AS [a]
INNER JOIN [Usuario] AS [u] ON [a].[Id] = [u].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-19 09:29:13.684 -03:00 [INF] Executed action AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login (AndreBrandaoCloudGamesApi) in 4863.0872ms
2025-09-19 09:29:13.694 -03:00 [INF] Executed endpoint 'AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login (AndreBrandaoCloudGamesApi)'
2025-09-19 09:29:13.705 -03:00 [ERR] Erro não tratado. CorrelationId: 75ddd984-a0ec-4a4e-8ed1-5409240f3609
System.ApplicationException: Usuário não autenticado!
   at AndreBrandaoCloudGamesApi.Identity.UsuarioService.Login(LoginUsuarioDto loginUsuarioDto) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\Identity\UsuarioService.cs:line 42
   at AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login(LoginUsuarioDto loginUsuarioDto) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\Controllers\UsuarioController.cs:line 47
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AndreBrandaoCloudGamesApi.Identity.ExceptionMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\Identity\ExceptionMiddleware.cs:line 24
2025-09-19 09:29:13.835 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7167/Usuario/login - 500 null application/json 5196.7867ms
2025-09-19 09:29:29.050 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7167/Usuario/login - application/json 61
2025-09-19 09:29:29.079 -03:00 [INF] Executing endpoint 'AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login (AndreBrandaoCloudGamesApi)'
2025-09-19 09:29:29.088 -03:00 [INF] Route matched with {action = "Login", controller = "Usuario"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(AndreBrandaoCloudGamesApi.Data.Dtos.UsuarioDto.LoginUsuarioDto) on controller AndreBrandaoCloudGamesApi.Controllers.UsuarioController (AndreBrandaoCloudGamesApi).
2025-09-19 09:29:29.295 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [u].[CreatedDate], [u].[Nome], [u].[Role]
FROM [AspNetUsers] AS [a]
INNER JOIN [Usuario] AS [u] ON [a].[Id] = [u].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-19 09:29:29.518 -03:00 [INF] Executed action AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login (AndreBrandaoCloudGamesApi) in 416.3707ms
2025-09-19 09:29:29.525 -03:00 [INF] Executed endpoint 'AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login (AndreBrandaoCloudGamesApi)'
2025-09-19 09:29:29.532 -03:00 [ERR] Erro não tratado. CorrelationId: 3601ba5a-034b-4d4b-97ee-3996f476109d
System.ApplicationException: Usuário não autenticado!
   at AndreBrandaoCloudGamesApi.Identity.UsuarioService.Login(LoginUsuarioDto loginUsuarioDto) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\Identity\UsuarioService.cs:line 42
   at AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login(LoginUsuarioDto loginUsuarioDto) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\Controllers\UsuarioController.cs:line 47
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AndreBrandaoCloudGamesApi.Identity.ExceptionMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\Identity\ExceptionMiddleware.cs:line 24
2025-09-19 09:29:29.571 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7167/Usuario/login - 500 null application/json 521.2252ms
2025-09-19 09:30:37.486 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7167/Usuario/login - application/json 53
2025-09-19 09:30:37.506 -03:00 [INF] Executing endpoint 'AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login (AndreBrandaoCloudGamesApi)'
2025-09-19 09:30:37.513 -03:00 [INF] Route matched with {action = "Login", controller = "Usuario"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(AndreBrandaoCloudGamesApi.Data.Dtos.UsuarioDto.LoginUsuarioDto) on controller AndreBrandaoCloudGamesApi.Controllers.UsuarioController (AndreBrandaoCloudGamesApi).
2025-09-19 09:30:37.566 -03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [u].[CreatedDate], [u].[Nome], [u].[Role]
FROM [AspNetUsers] AS [a]
INNER JOIN [Usuario] AS [u] ON [a].[Id] = [u].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-19 09:30:37.664 -03:00 [INF] Executed action AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login (AndreBrandaoCloudGamesApi) in 141.3261ms
2025-09-19 09:30:37.674 -03:00 [INF] Executed endpoint 'AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login (AndreBrandaoCloudGamesApi)'
2025-09-19 09:30:37.678 -03:00 [ERR] Erro não tratado. CorrelationId: b5454b40-94af-4724-a84f-62750e3947da
System.ApplicationException: Usuário não autenticado!
   at AndreBrandaoCloudGamesApi.Identity.UsuarioService.Login(LoginUsuarioDto loginUsuarioDto) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\Identity\UsuarioService.cs:line 42
   at AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login(LoginUsuarioDto loginUsuarioDto) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\Controllers\UsuarioController.cs:line 47
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AndreBrandaoCloudGamesApi.Identity.ExceptionMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\Identity\ExceptionMiddleware.cs:line 24
2025-09-19 09:30:37.696 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7167/Usuario/login - 500 null application/json 209.8137ms
2025-09-19 09:31:37.571 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7167/Usuario/login - application/json 52
2025-09-19 09:31:37.582 -03:00 [INF] Executing endpoint 'AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login (AndreBrandaoCloudGamesApi)'
2025-09-19 09:31:37.589 -03:00 [INF] Route matched with {action = "Login", controller = "Usuario"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(AndreBrandaoCloudGamesApi.Data.Dtos.UsuarioDto.LoginUsuarioDto) on controller AndreBrandaoCloudGamesApi.Controllers.UsuarioController (AndreBrandaoCloudGamesApi).
2025-09-19 09:31:37.612 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [u].[CreatedDate], [u].[Nome], [u].[Role]
FROM [AspNetUsers] AS [a]
INNER JOIN [Usuario] AS [u] ON [a].[Id] = [u].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-19 09:31:37.767 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-09-19 09:31:37.826 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-09-19 09:31:37.852 -03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-09-19 09:31:37.889 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__loginUsuarioDto_UserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [u].[CreatedDate], [u].[Nome], [u].[Role]
FROM [AspNetUsers] AS [a]
INNER JOIN [Usuario] AS [u] ON [a].[Id] = [u].[Id]
WHERE [a].[NormalizedUserName] = @__loginUsuarioDto_UserName_0
2025-09-19 09:31:37.948 -03:00 [INF] Setting HTTP status code 200.
2025-09-19 09:31:37.959 -03:00 [INF] Writing value of type 'Ok`1' as Json.
2025-09-19 09:31:37.978 -03:00 [INF] Executed action AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login (AndreBrandaoCloudGamesApi) in 374.7311ms
2025-09-19 09:31:37.986 -03:00 [INF] Executed endpoint 'AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login (AndreBrandaoCloudGamesApi)'
2025-09-19 09:31:37.993 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7167/Usuario/login - 200 null application/json; charset=utf-8 421.7778ms
2025-09-19 09:32:02.530 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7167/Promocao/notificar - application/json 4
2025-09-19 09:32:02.589 -03:00 [INF] Executing endpoint 'AndreBrandaoCloudGamesApi.Controllers.PromocaoController.AplicaPromocaoJogos (AndreBrandaoCloudGamesApi)'
2025-09-19 09:32:02.604 -03:00 [INF] Route matched with {action = "AplicaPromocaoJogos", controller = "Promocao"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] AplicaPromocaoJogos(Boolean) on controller AndreBrandaoCloudGamesApi.Controllers.PromocaoController (AndreBrandaoCloudGamesApi).
2025-09-19 09:32:02.628 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [j].[Id], [j].[CreatedDate], [j].[IsPromotional], [j].[Preco], [j].[PrecoVenda], [j].[Titulo]
FROM [Jogo] AS [j]
2025-09-19 09:32:02.764 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Jogo] SET [CreatedDate] = @p0, [IsPromotional] = @p1, [Preco] = @p2, [PrecoVenda] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-09-19 09:32:02.781 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Jogo] SET [CreatedDate] = @p0, [IsPromotional] = @p1, [Preco] = @p2, [PrecoVenda] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-09-19 09:32:02.799 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Jogo] SET [CreatedDate] = @p0, [IsPromotional] = @p1, [Preco] = @p2, [PrecoVenda] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-09-19 09:32:02.812 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Jogo] SET [CreatedDate] = @p0, [IsPromotional] = @p1, [Preco] = @p2, [PrecoVenda] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-09-19 09:32:02.825 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Jogo] SET [CreatedDate] = @p0, [IsPromotional] = @p1, [Preco] = @p2, [PrecoVenda] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-09-19 09:32:02.836 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Jogo] SET [CreatedDate] = @p0, [IsPromotional] = @p1, [Preco] = @p2, [PrecoVenda] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-09-19 09:32:02.852 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Jogo] SET [CreatedDate] = @p0, [IsPromotional] = @p1, [Preco] = @p2, [PrecoVenda] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-09-19 09:32:02.861 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Jogo] SET [CreatedDate] = @p0, [IsPromotional] = @p1, [Preco] = @p2, [PrecoVenda] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-09-19 09:32:02.876 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Jogo] SET [CreatedDate] = @p0, [IsPromotional] = @p1, [Preco] = @p2, [PrecoVenda] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-09-19 09:32:02.885 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Jogo] SET [CreatedDate] = @p0, [IsPromotional] = @p1, [Preco] = @p2, [PrecoVenda] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-09-19 09:32:02.897 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Jogo] SET [CreatedDate] = @p0, [IsPromotional] = @p1, [Preco] = @p2, [PrecoVenda] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-09-19 09:32:02.920 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Jogo] SET [CreatedDate] = @p0, [IsPromotional] = @p1, [Preco] = @p2, [PrecoVenda] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-09-19 09:32:02.953 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Jogo] SET [CreatedDate] = @p0, [IsPromotional] = @p1, [Preco] = @p2, [PrecoVenda] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-09-19 09:32:02.983 -03:00 [INF] Setting HTTP status code 200.
2025-09-19 09:32:02.994 -03:00 [INF] Writing value of type 'String' as Json.
2025-09-19 09:32:03.011 -03:00 [INF] Executed action AndreBrandaoCloudGamesApi.Controllers.PromocaoController.AplicaPromocaoJogos (AndreBrandaoCloudGamesApi) in 401.8962ms
2025-09-19 09:32:03.027 -03:00 [INF] Executed endpoint 'AndreBrandaoCloudGamesApi.Controllers.PromocaoController.AplicaPromocaoJogos (AndreBrandaoCloudGamesApi)'
2025-09-19 09:32:03.031 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7167/Promocao/notificar - 200 null application/json; charset=utf-8 501.4066ms
2025-09-19 09:35:03.092 -03:00 [INF] User profile is available. Using 'C:\Users\andre.brandao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-19 09:35:03.319 -03:00 [INF] Now listening on: https://localhost:7167
2025-09-19 09:35:03.340 -03:00 [INF] Now listening on: http://localhost:5134
2025-09-19 09:35:03.426 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/swagger/index.html - null null
2025-09-19 09:35:03.440 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-19 09:35:03.445 -03:00 [INF] Hosting environment: Development
2025-09-19 09:35:03.454 -03:00 [INF] Content root path: C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames
2025-09-19 09:35:03.631 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/swagger/index.html - 200 null text/html;charset=utf-8 206.394ms
2025-09-19 09:35:03.760 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/_framework/aspnetcore-browser-refresh.js - null null
2025-09-19 09:35:03.760 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/_vs/browserLink - null null
2025-09-19 09:35:03.788 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/_framework/aspnetcore-browser-refresh.js - 200 16535 application/javascript; charset=utf-8 27.6004ms
2025-09-19 09:35:03.844 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/_vs/browserLink - 200 null text/javascript; charset=UTF-8 83.224ms
2025-09-19 09:35:04.165 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/swagger/v1/swagger.json - null null
2025-09-19 09:35:04.206 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 41.8253ms
2025-09-19 09:36:47.754 -03:00 [INF] User profile is available. Using 'C:\Users\andre.brandao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-19 09:36:47.990 -03:00 [INF] Now listening on: https://localhost:7167
2025-09-19 09:36:47.996 -03:00 [INF] Now listening on: http://localhost:5134
2025-09-19 09:36:48.094 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-19 09:36:48.099 -03:00 [INF] Hosting environment: Development
2025-09-19 09:36:48.102 -03:00 [INF] Content root path: C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames
2025-09-19 09:36:48.132 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/swagger/index.html - null null
2025-09-19 09:36:48.383 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/swagger/index.html - 200 null text/html;charset=utf-8 251.1565ms
2025-09-19 09:36:48.452 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/_vs/browserLink - null null
2025-09-19 09:36:48.452 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/_framework/aspnetcore-browser-refresh.js - null null
2025-09-19 09:36:48.478 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/_framework/aspnetcore-browser-refresh.js - 200 16535 application/javascript; charset=utf-8 25.6212ms
2025-09-19 09:36:48.498 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/_vs/browserLink - 200 null text/javascript; charset=UTF-8 46.2182ms
2025-09-19 09:36:49.291 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/swagger/v1/swagger.json - null null
2025-09-19 09:36:49.348 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 57.4615ms
2025-09-19 09:37:00.636 -03:00 [INF] User profile is available. Using 'C:\Users\andre.brandao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-19 09:37:00.845 -03:00 [INF] Now listening on: https://localhost:7167
2025-09-19 09:37:00.851 -03:00 [INF] Now listening on: http://localhost:5134
2025-09-19 09:37:01.048 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-19 09:37:01.054 -03:00 [INF] Hosting environment: Development
2025-09-19 09:37:01.061 -03:00 [INF] Content root path: C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames
2025-09-19 09:37:01.259 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/swagger/index.html - null null
2025-09-19 09:37:01.470 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/swagger/index.html - 200 null text/html;charset=utf-8 212.3812ms
2025-09-19 09:37:01.603 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/_framework/aspnetcore-browser-refresh.js - null null
2025-09-19 09:37:01.603 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/_vs/browserLink - null null
2025-09-19 09:37:01.630 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/_framework/aspnetcore-browser-refresh.js - 200 16535 application/javascript; charset=utf-8 27.0309ms
2025-09-19 09:37:01.678 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/_vs/browserLink - 200 null text/javascript; charset=UTF-8 75.0507ms
2025-09-19 09:37:01.934 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/swagger/v1/swagger.json - null null
2025-09-19 09:37:01.987 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 52.4507ms
2025-09-19 09:37:14.576 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/swagger/index.html - null null
2025-09-19 09:37:14.609 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/swagger/index.html - 200 null text/html;charset=utf-8 33.1276ms
2025-09-19 09:37:14.719 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/_vs/browserLink - null null
2025-09-19 09:37:14.719 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/_framework/aspnetcore-browser-refresh.js - null null
2025-09-19 09:37:14.752 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/_framework/aspnetcore-browser-refresh.js - 200 16535 application/javascript; charset=utf-8 32.8031ms
2025-09-19 09:37:14.761 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.3076ms
2025-09-19 09:37:15.009 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/swagger/v1/swagger.json - null null
2025-09-19 09:37:15.042 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 33.1058ms
2025-09-19 09:37:30.374 -03:00 [INF] User profile is available. Using 'C:\Users\andre.brandao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-19 09:37:30.566 -03:00 [INF] Now listening on: https://localhost:7167
2025-09-19 09:37:30.571 -03:00 [INF] Now listening on: http://localhost:5134
2025-09-19 09:37:30.701 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-19 09:37:30.707 -03:00 [INF] Hosting environment: Development
2025-09-19 09:37:30.712 -03:00 [INF] Content root path: C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames
2025-09-19 09:37:30.748 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/swagger/index.html - null null
2025-09-19 09:37:30.939 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/swagger/index.html - 200 null text/html;charset=utf-8 193.0733ms
2025-09-19 09:37:31.067 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/_vs/browserLink - null null
2025-09-19 09:37:31.067 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/_framework/aspnetcore-browser-refresh.js - null null
2025-09-19 09:37:31.117 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/_framework/aspnetcore-browser-refresh.js - 200 16535 application/javascript; charset=utf-8 50.326ms
2025-09-19 09:37:31.155 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/_vs/browserLink - 200 null text/javascript; charset=UTF-8 88.0357ms
2025-09-19 09:37:31.310 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/swagger/v1/swagger.json - null null
2025-09-19 09:37:31.351 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 40.988ms
2025-09-19 09:39:09.668 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7167/Promocao/notificar - application/json 5
2025-09-19 09:39:09.758 -03:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (ADMIN)
2025-09-19 09:39:09.784 -03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2025-09-19 09:39:09.795 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7167/Promocao/notificar - 302 0 null 126.9033ms
2025-09-19 09:39:09.801 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/Account/Login?ReturnUrl=%2FPromocao%2Fnotificar - null null
2025-09-19 09:39:09.826 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/Account/Login?ReturnUrl=%2FPromocao%2Fnotificar - 404 0 null 24.4571ms
2025-09-19 09:39:09.843 -03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7167/Account/Login, Response status code: 404
2025-09-19 09:39:20.993 -03:00 [INF] User profile is available. Using 'C:\Users\andre.brandao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-19 09:39:21.366 -03:00 [INF] Now listening on: https://localhost:7167
2025-09-19 09:39:21.373 -03:00 [INF] Now listening on: http://localhost:5134
2025-09-19 09:39:21.468 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-19 09:39:21.474 -03:00 [INF] Hosting environment: Development
2025-09-19 09:39:21.480 -03:00 [INF] Content root path: C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames
2025-09-19 09:41:43.261 -03:00 [INF] User profile is available. Using 'C:\Users\andre.brandao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-19 09:41:43.476 -03:00 [INF] Now listening on: https://localhost:7167
2025-09-19 09:41:43.484 -03:00 [INF] Now listening on: http://localhost:5134
2025-09-19 09:41:43.578 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-19 09:41:43.582 -03:00 [INF] Hosting environment: Development
2025-09-19 09:41:43.586 -03:00 [INF] Content root path: C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames
2025-09-19 09:41:43.977 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/swagger/index.html - null null
2025-09-19 09:41:44.193 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/swagger/index.html - 200 null text/html;charset=utf-8 217.5266ms
2025-09-19 09:41:44.225 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/_framework/aspnetcore-browser-refresh.js - null null
2025-09-19 09:41:44.238 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/_framework/aspnetcore-browser-refresh.js - 200 16535 application/javascript; charset=utf-8 12.4111ms
2025-09-19 09:41:44.274 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/_vs/browserLink - null null
2025-09-19 09:41:44.316 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.1934ms
2025-09-19 09:41:44.390 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/swagger/v1/swagger.json - null null
2025-09-19 09:41:44.422 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 32.3794ms
2025-09-19 09:42:22.685 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7167/Promocao/notificar - application/json 5
2025-09-19 09:42:22.935 -03:00 [INF] Executing endpoint 'AndreBrandaoCloudGamesApi.Controllers.PromocaoController.AplicaPromocaoJogos (AndreBrandaoCloudGamesApi)'
2025-09-19 09:42:23.024 -03:00 [INF] Route matched with {action = "AplicaPromocaoJogos", controller = "Promocao"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] AplicaPromocaoJogos(Boolean) on controller AndreBrandaoCloudGamesApi.Controllers.PromocaoController (AndreBrandaoCloudGamesApi).
2025-09-19 09:42:26.958 -03:00 [INF] Executed DbCommand (150ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [j].[Id], [j].[CreatedDate], [j].[IsPromotional], [j].[Preco], [j].[PrecoVenda], [j].[Titulo]
FROM [Jogo] AS [j]
2025-09-19 09:42:27.565 -03:00 [INF] Executed DbCommand (56ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Jogo] SET [CreatedDate] = @p0, [IsPromotional] = @p1, [Preco] = @p2, [PrecoVenda] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-09-19 09:42:27.620 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Jogo] SET [CreatedDate] = @p0, [IsPromotional] = @p1, [Preco] = @p2, [PrecoVenda] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-09-19 09:42:27.636 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Jogo] SET [CreatedDate] = @p0, [IsPromotional] = @p1, [Preco] = @p2, [PrecoVenda] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-09-19 09:42:27.653 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Jogo] SET [CreatedDate] = @p0, [IsPromotional] = @p1, [Preco] = @p2, [PrecoVenda] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-09-19 09:42:27.670 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Jogo] SET [CreatedDate] = @p0, [IsPromotional] = @p1, [Preco] = @p2, [PrecoVenda] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-09-19 09:42:27.687 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Jogo] SET [CreatedDate] = @p0, [IsPromotional] = @p1, [Preco] = @p2, [PrecoVenda] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-09-19 09:42:27.703 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Jogo] SET [CreatedDate] = @p0, [IsPromotional] = @p1, [Preco] = @p2, [PrecoVenda] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-09-19 09:42:27.721 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Jogo] SET [CreatedDate] = @p0, [IsPromotional] = @p1, [Preco] = @p2, [PrecoVenda] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-09-19 09:42:27.738 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Jogo] SET [CreatedDate] = @p0, [IsPromotional] = @p1, [Preco] = @p2, [PrecoVenda] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-09-19 09:42:27.754 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Jogo] SET [CreatedDate] = @p0, [IsPromotional] = @p1, [Preco] = @p2, [PrecoVenda] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-09-19 09:42:27.770 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Jogo] SET [CreatedDate] = @p0, [IsPromotional] = @p1, [Preco] = @p2, [PrecoVenda] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-09-19 09:42:27.788 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Jogo] SET [CreatedDate] = @p0, [IsPromotional] = @p1, [Preco] = @p2, [PrecoVenda] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-09-19 09:42:27.846 -03:00 [INF] Executed DbCommand (44ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Jogo] SET [CreatedDate] = @p0, [IsPromotional] = @p1, [Preco] = @p2, [PrecoVenda] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-09-19 09:42:27.875 -03:00 [INF] Setting HTTP status code 200.
2025-09-19 09:42:27.882 -03:00 [INF] Writing value of type 'String' as Json.
2025-09-19 09:42:27.902 -03:00 [INF] Executed action AndreBrandaoCloudGamesApi.Controllers.PromocaoController.AplicaPromocaoJogos (AndreBrandaoCloudGamesApi) in 4859.8343ms
2025-09-19 09:42:27.911 -03:00 [INF] Executed endpoint 'AndreBrandaoCloudGamesApi.Controllers.PromocaoController.AplicaPromocaoJogos (AndreBrandaoCloudGamesApi)'
2025-09-19 09:42:27.938 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7167/Promocao/notificar - 200 null application/json; charset=utf-8 5253.2971ms
2025-09-19 09:42:46.622 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7167/Promocao/notificar - application/json 4
2025-09-19 09:42:46.644 -03:00 [INF] Executing endpoint 'AndreBrandaoCloudGamesApi.Controllers.PromocaoController.AplicaPromocaoJogos (AndreBrandaoCloudGamesApi)'
2025-09-19 09:42:46.653 -03:00 [INF] Route matched with {action = "AplicaPromocaoJogos", controller = "Promocao"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] AplicaPromocaoJogos(Boolean) on controller AndreBrandaoCloudGamesApi.Controllers.PromocaoController (AndreBrandaoCloudGamesApi).
2025-09-19 09:42:46.845 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [j].[Id], [j].[CreatedDate], [j].[IsPromotional], [j].[Preco], [j].[PrecoVenda], [j].[Titulo]
FROM [Jogo] AS [j]
2025-09-19 09:42:46.863 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Jogo] SET [CreatedDate] = @p0, [IsPromotional] = @p1, [Preco] = @p2, [PrecoVenda] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-09-19 09:42:46.878 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Jogo] SET [CreatedDate] = @p0, [IsPromotional] = @p1, [Preco] = @p2, [PrecoVenda] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-09-19 09:42:46.895 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Jogo] SET [CreatedDate] = @p0, [IsPromotional] = @p1, [Preco] = @p2, [PrecoVenda] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-09-19 09:42:46.917 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Jogo] SET [CreatedDate] = @p0, [IsPromotional] = @p1, [Preco] = @p2, [PrecoVenda] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-09-19 09:42:46.966 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Jogo] SET [CreatedDate] = @p0, [IsPromotional] = @p1, [Preco] = @p2, [PrecoVenda] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-09-19 09:42:46.984 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Jogo] SET [CreatedDate] = @p0, [IsPromotional] = @p1, [Preco] = @p2, [PrecoVenda] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-09-19 09:42:47.001 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Jogo] SET [CreatedDate] = @p0, [IsPromotional] = @p1, [Preco] = @p2, [PrecoVenda] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-09-19 09:42:47.019 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Jogo] SET [CreatedDate] = @p0, [IsPromotional] = @p1, [Preco] = @p2, [PrecoVenda] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-09-19 09:42:47.033 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Jogo] SET [CreatedDate] = @p0, [IsPromotional] = @p1, [Preco] = @p2, [PrecoVenda] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-09-19 09:42:47.048 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Jogo] SET [CreatedDate] = @p0, [IsPromotional] = @p1, [Preco] = @p2, [PrecoVenda] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-09-19 09:42:47.065 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Jogo] SET [CreatedDate] = @p0, [IsPromotional] = @p1, [Preco] = @p2, [PrecoVenda] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-09-19 09:42:47.087 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Jogo] SET [CreatedDate] = @p0, [IsPromotional] = @p1, [Preco] = @p2, [PrecoVenda] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-09-19 09:42:47.105 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean), @p2='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p3='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Jogo] SET [CreatedDate] = @p0, [IsPromotional] = @p1, [Preco] = @p2, [PrecoVenda] = @p3, [Titulo] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-09-19 09:42:47.120 -03:00 [INF] Setting HTTP status code 200.
2025-09-19 09:42:47.128 -03:00 [INF] Writing value of type 'String' as Json.
2025-09-19 09:42:47.136 -03:00 [INF] Executed action AndreBrandaoCloudGamesApi.Controllers.PromocaoController.AplicaPromocaoJogos (AndreBrandaoCloudGamesApi) in 473.2517ms
2025-09-19 09:42:47.144 -03:00 [INF] Executed endpoint 'AndreBrandaoCloudGamesApi.Controllers.PromocaoController.AplicaPromocaoJogos (AndreBrandaoCloudGamesApi)'
2025-09-19 09:42:47.152 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7167/Promocao/notificar - 200 null application/json; charset=utf-8 530.0847ms
2025-09-19 09:43:08.419 -03:00 [INF] User profile is available. Using 'C:\Users\andre.brandao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-19 09:43:08.612 -03:00 [INF] Now listening on: https://localhost:7167
2025-09-19 09:43:08.616 -03:00 [INF] Now listening on: http://localhost:5134
2025-09-19 09:43:08.713 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-19 09:43:08.719 -03:00 [INF] Hosting environment: Development
2025-09-19 09:43:08.724 -03:00 [INF] Content root path: C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames
2025-09-19 09:43:08.783 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/swagger/index.html - null null
2025-09-19 09:43:09.003 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/swagger/index.html - 200 null text/html;charset=utf-8 221.3598ms
2025-09-19 09:43:09.114 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/_framework/aspnetcore-browser-refresh.js - null null
2025-09-19 09:43:09.114 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/_vs/browserLink - null null
2025-09-19 09:43:09.146 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/_framework/aspnetcore-browser-refresh.js - 200 16535 application/javascript; charset=utf-8 31.2925ms
2025-09-19 09:43:09.210 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/_vs/browserLink - 200 null text/javascript; charset=UTF-8 95.9023ms
2025-09-19 09:43:09.472 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/swagger/v1/swagger.json - null null
2025-09-19 09:43:09.531 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 58.434ms
2025-09-19 09:43:15.371 -03:00 [INF] User profile is available. Using 'C:\Users\andre.brandao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-19 09:43:15.557 -03:00 [INF] Now listening on: https://localhost:7167
2025-09-19 09:43:15.561 -03:00 [INF] Now listening on: http://localhost:5134
2025-09-19 09:43:15.657 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-19 09:43:15.660 -03:00 [INF] Hosting environment: Development
2025-09-19 09:43:15.664 -03:00 [INF] Content root path: C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames
2025-09-19 09:43:15.694 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/swagger/index.html - null null
2025-09-19 09:43:15.918 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/swagger/index.html - 200 null text/html;charset=utf-8 226.8319ms
2025-09-19 09:43:16.005 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/_framework/aspnetcore-browser-refresh.js - null null
2025-09-19 09:43:16.005 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/_vs/browserLink - null null
2025-09-19 09:43:16.031 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/_framework/aspnetcore-browser-refresh.js - 200 16535 application/javascript; charset=utf-8 26.2972ms
2025-09-19 09:43:16.112 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/_vs/browserLink - 200 null text/javascript; charset=UTF-8 107.2915ms
2025-09-19 09:43:16.253 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/swagger/v1/swagger.json - null null
2025-09-19 09:43:16.303 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 49.6098ms
2025-09-19 09:43:23.967 -03:00 [INF] User profile is available. Using 'C:\Users\andre.brandao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-19 09:43:24.237 -03:00 [INF] Now listening on: https://localhost:7167
2025-09-19 09:43:24.241 -03:00 [INF] Now listening on: http://localhost:5134
2025-09-19 09:43:24.337 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-19 09:43:24.342 -03:00 [INF] Hosting environment: Development
2025-09-19 09:43:24.344 -03:00 [INF] Content root path: C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames
2025-09-19 09:43:24.554 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/swagger/index.html - null null
2025-09-19 09:43:24.746 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/swagger/index.html - 200 null text/html;charset=utf-8 192.5256ms
2025-09-19 09:43:24.830 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/_vs/browserLink - null null
2025-09-19 09:43:24.830 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/_framework/aspnetcore-browser-refresh.js - null null
2025-09-19 09:43:24.874 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/_framework/aspnetcore-browser-refresh.js - 200 16535 application/javascript; charset=utf-8 43.8093ms
2025-09-19 09:43:24.899 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/_vs/browserLink - 200 null text/javascript; charset=UTF-8 69.4602ms
2025-09-19 09:43:25.063 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/swagger/v1/swagger.json - null null
2025-09-19 09:43:25.114 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 51.1404ms
2025-09-19 09:43:29.185 -03:00 [INF] User profile is available. Using 'C:\Users\andre.brandao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-19 09:43:29.397 -03:00 [INF] Now listening on: https://localhost:7167
2025-09-19 09:43:29.402 -03:00 [INF] Now listening on: http://localhost:5134
2025-09-19 09:43:29.490 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-19 09:43:29.496 -03:00 [INF] Hosting environment: Development
2025-09-19 09:43:29.500 -03:00 [INF] Content root path: C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames
2025-09-19 09:43:29.579 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/swagger/index.html - null null
2025-09-19 09:43:29.787 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/swagger/index.html - 200 null text/html;charset=utf-8 208.888ms
2025-09-19 09:43:29.847 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/_vs/browserLink - null null
2025-09-19 09:43:29.872 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/_framework/aspnetcore-browser-refresh.js - null null
2025-09-19 09:43:29.902 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/_framework/aspnetcore-browser-refresh.js - 200 16535 application/javascript; charset=utf-8 29.6082ms
2025-09-19 09:43:29.926 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/_vs/browserLink - 200 null text/javascript; charset=UTF-8 79.2047ms
2025-09-19 09:43:30.109 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/swagger/v1/swagger.json - null null
2025-09-19 09:43:30.157 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 47.6595ms
2025-09-19 09:43:35.787 -03:00 [INF] User profile is available. Using 'C:\Users\andre.brandao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-19 09:43:35.971 -03:00 [INF] Now listening on: https://localhost:7167
2025-09-19 09:43:35.978 -03:00 [INF] Now listening on: http://localhost:5134
2025-09-19 09:43:36.245 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-19 09:43:36.253 -03:00 [INF] Hosting environment: Development
2025-09-19 09:43:36.256 -03:00 [INF] Content root path: C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames
2025-09-19 09:43:36.372 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/swagger/index.html - null null
2025-09-19 09:43:36.544 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/swagger/index.html - 200 null text/html;charset=utf-8 173.234ms
2025-09-19 09:43:36.656 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/_framework/aspnetcore-browser-refresh.js - null null
2025-09-19 09:43:36.656 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/_vs/browserLink - null null
2025-09-19 09:43:36.681 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/_framework/aspnetcore-browser-refresh.js - 200 16535 application/javascript; charset=utf-8 25.174ms
2025-09-19 09:43:36.735 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/_vs/browserLink - 200 null text/javascript; charset=UTF-8 79.0646ms
2025-09-19 09:43:36.892 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/swagger/v1/swagger.json - null null
2025-09-19 09:43:36.944 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 52.0041ms
2025-09-19 09:43:42.182 -03:00 [INF] User profile is available. Using 'C:\Users\andre.brandao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-19 09:43:42.452 -03:00 [INF] Now listening on: https://localhost:7167
2025-09-19 09:43:42.462 -03:00 [INF] Now listening on: http://localhost:5134
2025-09-19 09:43:42.584 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-19 09:43:42.589 -03:00 [INF] Hosting environment: Development
2025-09-19 09:43:42.594 -03:00 [INF] Content root path: C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames
2025-09-19 09:43:42.856 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/swagger/index.html - null null
2025-09-19 09:43:43.049 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/swagger/index.html - 200 null text/html;charset=utf-8 194.4751ms
2025-09-19 09:43:43.158 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/_framework/aspnetcore-browser-refresh.js - null null
2025-09-19 09:43:43.158 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/_vs/browserLink - null null
2025-09-19 09:43:43.181 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/_framework/aspnetcore-browser-refresh.js - 200 16535 application/javascript; charset=utf-8 22.9181ms
2025-09-19 09:43:43.230 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/_vs/browserLink - 200 null text/javascript; charset=UTF-8 71.724ms
2025-09-19 09:43:43.426 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/swagger/v1/swagger.json - null null
2025-09-19 09:43:43.478 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 52.603ms
2025-09-19 09:43:46.849 -03:00 [INF] User profile is available. Using 'C:\Users\andre.brandao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-19 09:43:47.033 -03:00 [INF] Now listening on: https://localhost:7167
2025-09-19 09:43:47.046 -03:00 [INF] Now listening on: http://localhost:5134
2025-09-19 09:43:47.170 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-19 09:43:47.175 -03:00 [INF] Hosting environment: Development
2025-09-19 09:43:47.173 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/swagger/index.html - null null
2025-09-19 09:43:47.180 -03:00 [INF] Content root path: C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames
2025-09-19 09:43:47.406 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/swagger/index.html - 200 null text/html;charset=utf-8 235.5371ms
2025-09-19 09:43:47.471 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/_framework/aspnetcore-browser-refresh.js - null null
2025-09-19 09:43:47.471 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/_vs/browserLink - null null
2025-09-19 09:43:47.487 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/_framework/aspnetcore-browser-refresh.js - 200 16535 application/javascript; charset=utf-8 14.9952ms
2025-09-19 09:43:47.527 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/_vs/browserLink - 200 null text/javascript; charset=UTF-8 55.6425ms
2025-09-19 09:43:47.684 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/swagger/v1/swagger.json - null null
2025-09-19 09:43:47.743 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 58.9649ms
2025-09-19 09:43:55.576 -03:00 [INF] User profile is available. Using 'C:\Users\andre.brandao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-19 09:43:55.867 -03:00 [INF] Now listening on: https://localhost:7167
2025-09-19 09:43:55.871 -03:00 [INF] Now listening on: http://localhost:5134
2025-09-19 09:43:56.056 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-19 09:43:56.060 -03:00 [INF] Hosting environment: Development
2025-09-19 09:43:56.066 -03:00 [INF] Content root path: C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames
2025-09-19 09:43:56.236 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/swagger/index.html - null null
2025-09-19 09:43:56.458 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/swagger/index.html - 200 null text/html;charset=utf-8 222.7439ms
2025-09-19 09:43:56.516 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/_vs/browserLink - null null
2025-09-19 09:43:56.516 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/_framework/aspnetcore-browser-refresh.js - null null
2025-09-19 09:43:56.554 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/_framework/aspnetcore-browser-refresh.js - 200 16535 application/javascript; charset=utf-8 38.0001ms
2025-09-19 09:43:56.584 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/_vs/browserLink - 200 null text/javascript; charset=UTF-8 68.2224ms
2025-09-19 09:43:56.757 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/swagger/v1/swagger.json - null null
2025-09-19 09:43:56.813 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 56.3976ms
2025-09-19 09:45:09.768 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7167/Usuario/login - application/json 50
2025-09-19 09:45:09.853 -03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/09/2025 21:49:13', Current time (UTC): '19/09/2025 12:45:09'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-09-19 09:45:09.875 -03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/09/2025 21:49:13', Current time (UTC): '19/09/2025 12:45:09'.
2025-09-19 09:45:09.885 -03:00 [INF] Executing endpoint 'AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login (AndreBrandaoCloudGamesApi)'
2025-09-19 09:45:09.920 -03:00 [INF] Route matched with {action = "Login", controller = "Usuario"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(AndreBrandaoCloudGamesApi.Data.Dtos.UsuarioDto.LoginUsuarioDto) on controller AndreBrandaoCloudGamesApi.Controllers.UsuarioController (AndreBrandaoCloudGamesApi).
2025-09-19 09:45:11.610 -03:00 [INF] Executed DbCommand (57ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [u].[CreatedDate], [u].[Nome], [u].[Role]
FROM [AspNetUsers] AS [a]
INNER JOIN [Usuario] AS [u] ON [a].[Id] = [u].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-19 09:45:11.668 -03:00 [INF] Executed action AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login (AndreBrandaoCloudGamesApi) in 1724.3124ms
2025-09-19 09:45:11.679 -03:00 [INF] Executed endpoint 'AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login (AndreBrandaoCloudGamesApi)'
2025-09-19 09:45:11.689 -03:00 [ERR] Erro não tratado. CorrelationId: d9c92216-7fd8-4f06-bed8-abd3281fa1ee
System.ApplicationException: Usuário não autenticado!
   at AndreBrandaoCloudGamesApi.Identity.UsuarioService.Login(LoginUsuarioDto loginUsuarioDto) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\Identity\UsuarioService.cs:line 42
   at AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login(LoginUsuarioDto loginUsuarioDto) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\Controllers\UsuarioController.cs:line 47
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AndreBrandaoCloudGamesApi.Identity.ExceptionMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\Identity\ExceptionMiddleware.cs:line 24
2025-09-19 09:45:11.781 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7167/Usuario/login - 500 null application/json 2012.9533ms
2025-09-19 09:56:22.661 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7167/Usuario/cadastro - application/json 153
2025-09-19 09:56:22.689 -03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/09/2025 21:49:13', Current time (UTC): '19/09/2025 12:56:22'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-09-19 09:56:22.701 -03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/09/2025 21:49:13', Current time (UTC): '19/09/2025 12:56:22'.
2025-09-19 09:56:22.709 -03:00 [INF] Executing endpoint 'AndreBrandaoCloudGamesApi.Controllers.UsuarioController.CadastraUsuario (AndreBrandaoCloudGamesApi)'
2025-09-19 09:56:22.724 -03:00 [INF] Route matched with {action = "CadastraUsuario", controller = "Usuario"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] CadastraUsuario(AndreBrandaoCloudGamesApi.Data.Dtos.UsuarioDto.CreateUsuarioDto) on controller AndreBrandaoCloudGamesApi.Controllers.UsuarioController (AndreBrandaoCloudGamesApi).
2025-09-19 09:56:22.838 -03:00 [INF] Executed action AndreBrandaoCloudGamesApi.Controllers.UsuarioController.CadastraUsuario (AndreBrandaoCloudGamesApi) in 100.3999ms
2025-09-19 09:56:22.852 -03:00 [INF] Executed endpoint 'AndreBrandaoCloudGamesApi.Controllers.UsuarioController.CadastraUsuario (AndreBrandaoCloudGamesApi)'
2025-09-19 09:56:22.864 -03:00 [ERR] Erro não tratado. CorrelationId: 88b65824-ec0a-4898-8281-d5c348cc1c5f
AndreBrandaoCloudGamesApi.ExceptionsBase.ErrorOnValidationException: System error.
   at AndreBrandaoCloudGamesApi.Data.Dtos.UsuarioDto.RegistraUsuarioUseCase.Validate(CreateUsuarioDto createUsuarioDto) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\Data\Dtos\UsuarioDto\RegistraUsuarioUseCase.cs:line 24
   at AndreBrandaoCloudGamesApi.Data.Dtos.UsuarioDto.RegistraUsuarioUseCase.Execute(CreateUsuarioDto createUsuarioDto) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\Data\Dtos\UsuarioDto\RegistraUsuarioUseCase.cs:line 10
   at AndreBrandaoCloudGamesApi.Identity.UsuarioService.CadastraUsuario(CreateUsuarioDto createUsuarioDto) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\Identity\UsuarioService.cs:line 27
   at AndreBrandaoCloudGamesApi.Controllers.UsuarioController.CadastraUsuario(CreateUsuarioDto createUsuarioDto) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\Controllers\UsuarioController.cs:line 38
   at lambda_method26(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AndreBrandaoCloudGamesApi.Identity.ExceptionMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\Identity\ExceptionMiddleware.cs:line 24
2025-09-19 09:56:22.881 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7167/Usuario/cadastro - 400 null application/json 220.1829ms
2025-09-19 09:57:30.565 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7167/Usuario/cadastro - application/json 148
2025-09-19 09:57:30.585 -03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/09/2025 21:49:13', Current time (UTC): '19/09/2025 12:57:30'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-09-19 09:57:30.591 -03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/09/2025 21:49:13', Current time (UTC): '19/09/2025 12:57:30'.
2025-09-19 09:57:30.598 -03:00 [INF] Executing endpoint 'AndreBrandaoCloudGamesApi.Controllers.UsuarioController.CadastraUsuario (AndreBrandaoCloudGamesApi)'
2025-09-19 09:57:30.603 -03:00 [INF] Route matched with {action = "CadastraUsuario", controller = "Usuario"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] CadastraUsuario(AndreBrandaoCloudGamesApi.Data.Dtos.UsuarioDto.CreateUsuarioDto) on controller AndreBrandaoCloudGamesApi.Controllers.UsuarioController (AndreBrandaoCloudGamesApi).
2025-09-19 09:57:30.657 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-19 09:57:30.691 -03:00 [INF] Executed action AndreBrandaoCloudGamesApi.Controllers.UsuarioController.CadastraUsuario (AndreBrandaoCloudGamesApi) in 74.5627ms
2025-09-19 09:57:30.701 -03:00 [INF] Executed endpoint 'AndreBrandaoCloudGamesApi.Controllers.UsuarioController.CadastraUsuario (AndreBrandaoCloudGamesApi)'
2025-09-19 09:57:30.710 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7167/Usuario/cadastro - 400 null application/problem+json; charset=utf-8 144.617ms
2025-09-19 09:57:47.769 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7167/Usuario/cadastro - application/json 149
2025-09-19 09:57:47.793 -03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/09/2025 21:49:13', Current time (UTC): '19/09/2025 12:57:47'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-09-19 09:57:47.805 -03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/09/2025 21:49:13', Current time (UTC): '19/09/2025 12:57:47'.
2025-09-19 09:57:47.813 -03:00 [INF] Executing endpoint 'AndreBrandaoCloudGamesApi.Controllers.UsuarioController.CadastraUsuario (AndreBrandaoCloudGamesApi)'
2025-09-19 09:57:47.819 -03:00 [INF] Route matched with {action = "CadastraUsuario", controller = "Usuario"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] CadastraUsuario(AndreBrandaoCloudGamesApi.Data.Dtos.UsuarioDto.CreateUsuarioDto) on controller AndreBrandaoCloudGamesApi.Controllers.UsuarioController (AndreBrandaoCloudGamesApi).
2025-09-19 09:57:47.827 -03:00 [INF] Executed action AndreBrandaoCloudGamesApi.Controllers.UsuarioController.CadastraUsuario (AndreBrandaoCloudGamesApi) in 2.2464ms
2025-09-19 09:57:47.832 -03:00 [INF] Executed endpoint 'AndreBrandaoCloudGamesApi.Controllers.UsuarioController.CadastraUsuario (AndreBrandaoCloudGamesApi)'
2025-09-19 09:57:47.838 -03:00 [ERR] Erro não tratado. CorrelationId: 07deea0f-4442-4f27-aa65-799e0b6f04fb
AndreBrandaoCloudGamesApi.ExceptionsBase.ErrorOnValidationException: System error.
   at AndreBrandaoCloudGamesApi.Data.Dtos.UsuarioDto.RegistraUsuarioUseCase.Validate(CreateUsuarioDto createUsuarioDto) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\Data\Dtos\UsuarioDto\RegistraUsuarioUseCase.cs:line 24
   at AndreBrandaoCloudGamesApi.Data.Dtos.UsuarioDto.RegistraUsuarioUseCase.Execute(CreateUsuarioDto createUsuarioDto) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\Data\Dtos\UsuarioDto\RegistraUsuarioUseCase.cs:line 10
   at AndreBrandaoCloudGamesApi.Identity.UsuarioService.CadastraUsuario(CreateUsuarioDto createUsuarioDto) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\Identity\UsuarioService.cs:line 27
   at AndreBrandaoCloudGamesApi.Controllers.UsuarioController.CadastraUsuario(CreateUsuarioDto createUsuarioDto) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\Controllers\UsuarioController.cs:line 38
   at lambda_method26(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AndreBrandaoCloudGamesApi.Identity.ExceptionMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\Identity\ExceptionMiddleware.cs:line 24
2025-09-19 09:57:47.852 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7167/Usuario/cadastro - 400 null application/json 83.3542ms
2025-09-19 09:57:54.418 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7167/Usuario/cadastro - application/json 150
2025-09-19 09:57:54.432 -03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/09/2025 21:49:13', Current time (UTC): '19/09/2025 12:57:54'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-09-19 09:57:54.441 -03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/09/2025 21:49:13', Current time (UTC): '19/09/2025 12:57:54'.
2025-09-19 09:57:54.447 -03:00 [INF] Executing endpoint 'AndreBrandaoCloudGamesApi.Controllers.UsuarioController.CadastraUsuario (AndreBrandaoCloudGamesApi)'
2025-09-19 09:57:54.455 -03:00 [INF] Route matched with {action = "CadastraUsuario", controller = "Usuario"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] CadastraUsuario(AndreBrandaoCloudGamesApi.Data.Dtos.UsuarioDto.CreateUsuarioDto) on controller AndreBrandaoCloudGamesApi.Controllers.UsuarioController (AndreBrandaoCloudGamesApi).
2025-09-19 09:57:54.590 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [u].[CreatedDate], [u].[Nome], [u].[Role]
FROM [AspNetUsers] AS [a]
INNER JOIN [Usuario] AS [u] ON [a].[Id] = [u].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-19 09:57:54.828 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 100) (DbType = AnsiString), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256), @p15='?' (Size = 450), @p16='?' (DbType = DateTime), @p17='?' (Size = 100) (DbType = AnsiString), @p18='?' (Size = 100) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
INSERT INTO [Usuario] ([Id], [CreatedDate], [Nome], [Role])
VALUES (@p15, @p16, @p17, @p18);
2025-09-19 09:57:54.869 -03:00 [INF] Setting HTTP status code 200.
2025-09-19 09:57:54.872 -03:00 [INF] Writing value of type 'Ok`1' as Json.
2025-09-19 09:57:54.880 -03:00 [INF] Executed action AndreBrandaoCloudGamesApi.Controllers.UsuarioController.CadastraUsuario (AndreBrandaoCloudGamesApi) in 405.191ms
2025-09-19 09:57:54.885 -03:00 [INF] Executed endpoint 'AndreBrandaoCloudGamesApi.Controllers.UsuarioController.CadastraUsuario (AndreBrandaoCloudGamesApi)'
2025-09-19 09:57:54.888 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7167/Usuario/cadastro - 200 null application/json; charset=utf-8 470.2551ms
2025-09-19 09:58:03.506 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7167/Usuario/cadastro - application/json 150
2025-09-19 09:58:03.529 -03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/09/2025 21:49:13', Current time (UTC): '19/09/2025 12:58:03'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-09-19 09:58:03.538 -03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/09/2025 21:49:13', Current time (UTC): '19/09/2025 12:58:03'.
2025-09-19 09:58:03.545 -03:00 [INF] Executing endpoint 'AndreBrandaoCloudGamesApi.Controllers.UsuarioController.CadastraUsuario (AndreBrandaoCloudGamesApi)'
2025-09-19 09:58:03.552 -03:00 [INF] Route matched with {action = "CadastraUsuario", controller = "Usuario"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] CadastraUsuario(AndreBrandaoCloudGamesApi.Data.Dtos.UsuarioDto.CreateUsuarioDto) on controller AndreBrandaoCloudGamesApi.Controllers.UsuarioController (AndreBrandaoCloudGamesApi).
2025-09-19 09:58:03.643 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [u].[CreatedDate], [u].[Nome], [u].[Role]
FROM [AspNetUsers] AS [a]
INNER JOIN [Usuario] AS [u] ON [a].[Id] = [u].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-19 09:58:03.683 -03:00 [INF] Executed action AndreBrandaoCloudGamesApi.Controllers.UsuarioController.CadastraUsuario (AndreBrandaoCloudGamesApi) in 121.5093ms
2025-09-19 09:58:03.705 -03:00 [INF] Executed endpoint 'AndreBrandaoCloudGamesApi.Controllers.UsuarioController.CadastraUsuario (AndreBrandaoCloudGamesApi)'
2025-09-19 09:58:03.715 -03:00 [ERR] Erro não tratado. CorrelationId: 893c391b-11a8-441d-8a31-815ebff59013
System.ApplicationException: Falha ao cadastrar usuario
   at AndreBrandaoCloudGamesApi.Identity.UsuarioService.CadastraUsuario(CreateUsuarioDto createUsuarioDto) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\Identity\UsuarioService.cs:line 34
   at AndreBrandaoCloudGamesApi.Controllers.UsuarioController.CadastraUsuario(CreateUsuarioDto createUsuarioDto) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\Controllers\UsuarioController.cs:line 38
   at lambda_method26(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AndreBrandaoCloudGamesApi.Identity.ExceptionMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\Identity\ExceptionMiddleware.cs:line 24
2025-09-19 09:58:03.772 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7167/Usuario/cadastro - 500 null application/json 266.2834ms
2025-09-19 10:00:00.245 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/Jogo - null null
2025-09-19 10:00:00.273 -03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/09/2025 21:49:13', Current time (UTC): '19/09/2025 13:00:00'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-09-19 10:00:00.283 -03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/09/2025 21:49:13', Current time (UTC): '19/09/2025 13:00:00'.
2025-09-19 10:00:00.290 -03:00 [INF] Executing endpoint 'AndreBrandaoCloudGamesApi.Controllers.JogoController.GetJogos (AndreBrandaoCloudGamesApi)'
2025-09-19 10:00:00.298 -03:00 [INF] Route matched with {action = "GetJogos", controller = "Jogo"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.ICollection`1[AndreBrandaoCloudGamesApi.Data.Dtos.JogoDto.ReadJogoDto]] GetJogos() on controller AndreBrandaoCloudGamesApi.Controllers.JogoController (AndreBrandaoCloudGamesApi).
2025-09-19 10:00:00.328 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [j].[Id], [j].[CreatedDate], [j].[IsPromotional], [j].[Preco], [j].[PrecoVenda], [j].[Titulo]
FROM [Jogo] AS [j]
2025-09-19 10:00:00.390 -03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[AndreBrandaoCloudGamesApi.Data.Dtos.JogoDto.ReadJogoDto, AndreBrandaoCloudGamesApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-19 10:00:00.417 -03:00 [INF] Executed action AndreBrandaoCloudGamesApi.Controllers.JogoController.GetJogos (AndreBrandaoCloudGamesApi) in 109.1848ms
2025-09-19 10:00:00.419 -03:00 [INF] Executed endpoint 'AndreBrandaoCloudGamesApi.Controllers.JogoController.GetJogos (AndreBrandaoCloudGamesApi)'
2025-09-19 10:00:00.422 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/Jogo - 200 null application/json; charset=utf-8 177.0631ms
2025-09-19 10:01:50.272 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7167/Usuario/login - application/json 52
2025-09-19 10:01:50.294 -03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/09/2025 21:16:36', Current time (UTC): '19/09/2025 13:01:50'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-09-19 10:01:50.304 -03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/09/2025 21:16:36', Current time (UTC): '19/09/2025 13:01:50'.
2025-09-19 10:01:50.312 -03:00 [INF] Executing endpoint 'AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login (AndreBrandaoCloudGamesApi)'
2025-09-19 10:01:50.321 -03:00 [INF] Route matched with {action = "Login", controller = "Usuario"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(AndreBrandaoCloudGamesApi.Data.Dtos.UsuarioDto.LoginUsuarioDto) on controller AndreBrandaoCloudGamesApi.Controllers.UsuarioController (AndreBrandaoCloudGamesApi).
2025-09-19 10:01:50.347 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [u].[CreatedDate], [u].[Nome], [u].[Role]
FROM [AspNetUsers] AS [a]
INNER JOIN [Usuario] AS [u] ON [a].[Id] = [u].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-19 10:01:50.605 -03:00 [INF] Executed action AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login (AndreBrandaoCloudGamesApi) in 270.6097ms
2025-09-19 10:01:50.611 -03:00 [INF] Executed endpoint 'AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login (AndreBrandaoCloudGamesApi)'
2025-09-19 10:01:50.618 -03:00 [ERR] Erro não tratado. CorrelationId: a7a3169a-06c2-4bea-9da8-d994a584a208
System.ApplicationException: Usuário não autenticado!
   at AndreBrandaoCloudGamesApi.Identity.UsuarioService.Login(LoginUsuarioDto loginUsuarioDto) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\Identity\UsuarioService.cs:line 42
   at AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login(LoginUsuarioDto loginUsuarioDto) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\Controllers\UsuarioController.cs:line 47
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AndreBrandaoCloudGamesApi.Identity.ExceptionMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\Identity\ExceptionMiddleware.cs:line 24
2025-09-19 10:01:50.645 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7167/Usuario/login - 500 null application/json 373.5515ms
2025-09-19 10:20:34.671 -03:00 [INF] User profile is available. Using 'C:\Users\andre.brandao\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-19 10:20:35.042 -03:00 [INF] Now listening on: https://localhost:7167
2025-09-19 10:20:35.054 -03:00 [INF] Now listening on: http://localhost:5134
2025-09-19 10:20:35.147 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-19 10:20:35.153 -03:00 [INF] Hosting environment: Development
2025-09-19 10:20:35.158 -03:00 [INF] Content root path: C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames
2025-09-19 10:20:35.424 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/swagger/index.html - null null
2025-09-19 10:20:35.651 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/swagger/index.html - 200 null text/html;charset=utf-8 227.9917ms
2025-09-19 10:20:35.691 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/_vs/browserLink - null null
2025-09-19 10:20:35.691 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/_framework/aspnetcore-browser-refresh.js - null null
2025-09-19 10:20:35.709 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/_framework/aspnetcore-browser-refresh.js - 200 16535 application/javascript; charset=utf-8 18.3779ms
2025-09-19 10:20:35.735 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.7863ms
2025-09-19 10:20:35.929 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7167/swagger/v1/swagger.json - null null
2025-09-19 10:20:35.960 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7167/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 30.7584ms
2025-09-19 10:20:48.695 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7167/Usuario/login - application/json 42
2025-09-19 10:20:48.776 -03:00 [INF] Executing endpoint 'AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login (AndreBrandaoCloudGamesApi)'
2025-09-19 10:20:48.820 -03:00 [INF] Route matched with {action = "Login", controller = "Usuario"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(AndreBrandaoCloudGamesApi.Data.Dtos.UsuarioDto.LoginUsuarioDto) on controller AndreBrandaoCloudGamesApi.Controllers.UsuarioController (AndreBrandaoCloudGamesApi).
2025-09-19 10:20:49.940 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-19 10:20:49.996 -03:00 [INF] Executed action AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login (AndreBrandaoCloudGamesApi) in 1158.7799ms
2025-09-19 10:20:50.010 -03:00 [INF] Executed endpoint 'AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login (AndreBrandaoCloudGamesApi)'
2025-09-19 10:20:50.022 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7167/Usuario/login - 400 null application/problem+json; charset=utf-8 1326.8784ms
2025-09-19 10:20:57.975 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7167/Usuario/login - application/json 44
2025-09-19 10:20:57.999 -03:00 [INF] Executing endpoint 'AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login (AndreBrandaoCloudGamesApi)'
2025-09-19 10:20:58.009 -03:00 [INF] Route matched with {action = "Login", controller = "Usuario"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(AndreBrandaoCloudGamesApi.Data.Dtos.UsuarioDto.LoginUsuarioDto) on controller AndreBrandaoCloudGamesApi.Controllers.UsuarioController (AndreBrandaoCloudGamesApi).
2025-09-19 10:20:58.116 -03:00 [INF] Executed action AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login (AndreBrandaoCloudGamesApi) in 94.1846ms
2025-09-19 10:20:58.133 -03:00 [INF] Executed endpoint 'AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login (AndreBrandaoCloudGamesApi)'
2025-09-19 10:20:58.145 -03:00 [ERR] Erro não tratado. CorrelationId: 5ddedc63-20e3-478e-88bf-1031eec10dd7
AndreBrandaoCloudGamesApi.ExceptionsBase.ErrorOnValidationException: System error.
   at AndreBrandaoCloudGamesApi.Data.Dtos.UsuarioDto.LoginUsuarioUseCase.Validate(LoginUsuarioDto loginUsuarioDto) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\Data\Dtos\UsuarioDto\LoginUsuarioUseCase.cs:line 24
   at AndreBrandaoCloudGamesApi.Data.Dtos.UsuarioDto.LoginUsuarioUseCase.Execute(LoginUsuarioDto loginUsuarioDto) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\Data\Dtos\UsuarioDto\LoginUsuarioUseCase.cs:line 10
   at AndreBrandaoCloudGamesApi.Identity.UsuarioService.Login(LoginUsuarioDto loginUsuarioDto) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\Identity\UsuarioService.cs:line 40
   at AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login(LoginUsuarioDto loginUsuarioDto) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\Controllers\UsuarioController.cs:line 47
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AndreBrandaoCloudGamesApi.ExceptionsBase.ExceptionMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\ExceptionsBase\ExceptionMiddleware.cs:line 22
2025-09-19 10:20:58.244 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7167/Usuario/login - 400 null application/json 269.0519ms
2025-09-19 10:21:07.804 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7167/Usuario/login - application/json 38
2025-09-19 10:21:07.833 -03:00 [INF] Executing endpoint 'AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login (AndreBrandaoCloudGamesApi)'
2025-09-19 10:21:07.842 -03:00 [INF] Route matched with {action = "Login", controller = "Usuario"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(AndreBrandaoCloudGamesApi.Data.Dtos.UsuarioDto.LoginUsuarioDto) on controller AndreBrandaoCloudGamesApi.Controllers.UsuarioController (AndreBrandaoCloudGamesApi).
2025-09-19 10:21:07.892 -03:00 [INF] Executed action AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login (AndreBrandaoCloudGamesApi) in 37.9773ms
2025-09-19 10:21:07.899 -03:00 [INF] Executed endpoint 'AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login (AndreBrandaoCloudGamesApi)'
2025-09-19 10:21:07.907 -03:00 [ERR] Erro não tratado. CorrelationId: 69ce2028-cf51-4eeb-881c-59b9d751bc8f
AndreBrandaoCloudGamesApi.ExceptionsBase.ErrorOnValidationException: System error.
   at AndreBrandaoCloudGamesApi.Data.Dtos.UsuarioDto.LoginUsuarioUseCase.Validate(LoginUsuarioDto loginUsuarioDto) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\Data\Dtos\UsuarioDto\LoginUsuarioUseCase.cs:line 24
   at AndreBrandaoCloudGamesApi.Data.Dtos.UsuarioDto.LoginUsuarioUseCase.Execute(LoginUsuarioDto loginUsuarioDto) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\Data\Dtos\UsuarioDto\LoginUsuarioUseCase.cs:line 10
   at AndreBrandaoCloudGamesApi.Identity.UsuarioService.Login(LoginUsuarioDto loginUsuarioDto) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\Identity\UsuarioService.cs:line 40
   at AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login(LoginUsuarioDto loginUsuarioDto) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\Controllers\UsuarioController.cs:line 47
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AndreBrandaoCloudGamesApi.ExceptionsBase.ExceptionMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\ExceptionsBase\ExceptionMiddleware.cs:line 22
2025-09-19 10:21:07.955 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7167/Usuario/login - 400 null application/json 151.6976ms
2025-09-19 10:21:38.498 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7167/Usuario/login - application/json 48
2025-09-19 10:21:38.511 -03:00 [INF] Executing endpoint 'AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login (AndreBrandaoCloudGamesApi)'
2025-09-19 10:21:38.518 -03:00 [INF] Route matched with {action = "Login", controller = "Usuario"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(AndreBrandaoCloudGamesApi.Data.Dtos.UsuarioDto.LoginUsuarioDto) on controller AndreBrandaoCloudGamesApi.Controllers.UsuarioController (AndreBrandaoCloudGamesApi).
2025-09-19 10:21:39.122 -03:00 [INF] Executed DbCommand (44ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [u].[CreatedDate], [u].[Nome], [u].[Role]
FROM [AspNetUsers] AS [a]
INNER JOIN [Usuario] AS [u] ON [a].[Id] = [u].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-19 10:21:39.400 -03:00 [INF] Executed action AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login (AndreBrandaoCloudGamesApi) in 869.4142ms
2025-09-19 10:21:39.410 -03:00 [INF] Executed endpoint 'AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login (AndreBrandaoCloudGamesApi)'
2025-09-19 10:21:39.417 -03:00 [ERR] Erro não tratado. CorrelationId: c29ddc45-5469-48f4-a2b8-09874b165206
System.ApplicationException: Usuário não autenticado!
   at AndreBrandaoCloudGamesApi.Identity.UsuarioService.Login(LoginUsuarioDto loginUsuarioDto) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\Identity\UsuarioService.cs:line 44
   at AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login(LoginUsuarioDto loginUsuarioDto) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\Controllers\UsuarioController.cs:line 47
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AndreBrandaoCloudGamesApi.ExceptionsBase.ExceptionMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\ExceptionsBase\ExceptionMiddleware.cs:line 22
2025-09-19 10:21:39.444 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7167/Usuario/login - 500 null application/json 946.6388ms
2025-09-19 10:22:49.649 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7167/Usuario/login - application/json 48
2025-09-19 10:22:49.662 -03:00 [INF] Executing endpoint 'AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login (AndreBrandaoCloudGamesApi)'
2025-09-19 10:22:49.669 -03:00 [INF] Route matched with {action = "Login", controller = "Usuario"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(AndreBrandaoCloudGamesApi.Data.Dtos.UsuarioDto.LoginUsuarioDto) on controller AndreBrandaoCloudGamesApi.Controllers.UsuarioController (AndreBrandaoCloudGamesApi).
2025-09-19 10:22:49.706 -03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [u].[CreatedDate], [u].[Nome], [u].[Role]
FROM [AspNetUsers] AS [a]
INNER JOIN [Usuario] AS [u] ON [a].[Id] = [u].[Id]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-09-19 10:22:49.823 -03:00 [INF] Executed action AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login (AndreBrandaoCloudGamesApi) in 140.6701ms
2025-09-19 10:22:49.831 -03:00 [INF] Executed endpoint 'AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login (AndreBrandaoCloudGamesApi)'
2025-09-19 10:22:49.835 -03:00 [ERR] Erro não tratado. CorrelationId: 067c251f-16a0-4c40-a30c-d56230c489c7
System.ApplicationException: Usuário não autenticado!
   at AndreBrandaoCloudGamesApi.Identity.UsuarioService.Login(LoginUsuarioDto loginUsuarioDto) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\Identity\UsuarioService.cs:line 44
   at AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login(LoginUsuarioDto loginUsuarioDto) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\Controllers\UsuarioController.cs:line 47
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AndreBrandaoCloudGamesApi.ExceptionsBase.ExceptionMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\ExceptionsBase\ExceptionMiddleware.cs:line 22
2025-09-19 10:22:49.851 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7167/Usuario/login - 500 null application/json 202.3749ms
2025-09-19 10:22:55.364 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7167/Usuario/login - application/json 43
2025-09-19 10:22:55.374 -03:00 [INF] Executing endpoint 'AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login (AndreBrandaoCloudGamesApi)'
2025-09-19 10:22:55.381 -03:00 [INF] Route matched with {action = "Login", controller = "Usuario"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(AndreBrandaoCloudGamesApi.Data.Dtos.UsuarioDto.LoginUsuarioDto) on controller AndreBrandaoCloudGamesApi.Controllers.UsuarioController (AndreBrandaoCloudGamesApi).
2025-09-19 10:22:55.393 -03:00 [INF] Executed action AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login (AndreBrandaoCloudGamesApi) in 4.7175ms
2025-09-19 10:22:55.401 -03:00 [INF] Executed endpoint 'AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login (AndreBrandaoCloudGamesApi)'
2025-09-19 10:22:55.405 -03:00 [ERR] Erro não tratado. CorrelationId: 02fed10a-2505-4431-a5cc-122a8babaeeb
AndreBrandaoCloudGamesApi.ExceptionsBase.ErrorOnValidationException: System error.
   at AndreBrandaoCloudGamesApi.Data.Dtos.UsuarioDto.LoginUsuarioUseCase.Validate(LoginUsuarioDto loginUsuarioDto) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\Data\Dtos\UsuarioDto\LoginUsuarioUseCase.cs:line 24
   at AndreBrandaoCloudGamesApi.Data.Dtos.UsuarioDto.LoginUsuarioUseCase.Execute(LoginUsuarioDto loginUsuarioDto) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\Data\Dtos\UsuarioDto\LoginUsuarioUseCase.cs:line 10
   at AndreBrandaoCloudGamesApi.Identity.UsuarioService.Login(LoginUsuarioDto loginUsuarioDto) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\Identity\UsuarioService.cs:line 40
   at AndreBrandaoCloudGamesApi.Controllers.UsuarioController.Login(LoginUsuarioDto loginUsuarioDto) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\Controllers\UsuarioController.cs:line 47
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at AndreBrandaoCloudGamesApi.ExceptionsBase.ExceptionMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\Repos\Fiap Cloud Games\AndreBrandaoCloudGames\ExceptionsBase\ExceptionMiddleware.cs:line 22
2025-09-19 10:22:55.427 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7167/Usuario/login - 400 null application/json 63.2009ms
